---
import BaseLayout from "../layouts/BaseLayout.astro";
import Navbar from "../components/Navbar.astro";
import Header from "../components/Header.astro";
import About from "../components/About.astro";
import Features from "../components/Features.astro";
import Pricing from "../components/Pricing.astro";
import Contact from "../components/Contact.astro";
import Footer from "../components/Footer.astro";
---

<head>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link href="./styles/bootstrap.min.css" rel="stylesheet">
    <link href="./styles/main.css" rel="stylesheet">
</head>

<BaseLayout title="Welcome to DairyVista">
  <Navbar />
  <Header />
  <About />
  <Features />
  <Pricing />
  <Contact />
  <Footer />
  <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded back-to-top"><i class="bi bi-arrow-up"></i></a>
</BaseLayout>

<script is:inline src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script is:inline defer>
  new WOW().init();

  window.addEventListener('scroll', function () {
    const navbar = document.querySelector('.navbar');
    if(navbar)
    {
        if (window.scrollY > 45) {
        navbar.classList.add('sticky-top', 'shadow-sm');
        } else {
        navbar.classList.remove('sticky-top', 'shadow-sm');
        }
    }

    const backToTop = document.querySelector('.back-to-top');
    if(backToTop)
    {
        if (window.scrollY > 100) {
        backToTop.style.display = 'block';
        backToTop.style.opacity = '1';
        } else {
        backToTop.style.opacity = '0';
        setTimeout(() => {
            backToTop.style.display = 'none';
        }, 300); // match fadeOut duration if needed
        }
    }
  });

  document.addEventListener('DOMContentLoaded', function () {
    const backToTop = document.querySelector('.back-to-top');
    if (backToTop) {
      backToTop.addEventListener('click', function (e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }
  });
</script>
